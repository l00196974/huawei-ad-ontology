# 华为广告本体模型设计 v3.0

> 创建日期：2026-02-25
> 版本：v3.0

---

## 一、实体关系总览图

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                   核心实体                                              │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐            │
│  │   用户   │    │  设备   │    │  广告主  │    │   APP   │    │  汽车   │            │
│  └────┬────┘    └────┬────┘    └────┬────┘    └────┬────┘    └────┬────┘            │
│       │             │             │             │             │                   │
│       │使用         │拥有         │创建         │安装/使用     │属于               │
│       ▼             ▼             ▼             ▼             ▼                   │
│  ┌─────────────────────────────────────────────────────────────────────────────┐      │
│  │                              事件 Event (带属性的关系)                       │      │
│  │   APP安装  APP卸载  APP打开  APP使用  浏览事件  搜索事件  广告曝光  广告点击  │      │
│  └─────────────────────────────────────────────────────────────────────────────┘      │
│                                                                                         │
│       │             │             │             │             │                   │
│       │处于         │投放         │推广         │关联          │                   │
│       ▼             ▼             ▼             ▼             ▼                   │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐        │
│  │ 用户场景 │    │ 媒体版位 │    │ 推广标的 │    │ 浏览内容 │    │汽车品牌  │        │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘        │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘

                                    │
                                    │ 包含
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              广告投放层级                                                │
│                                                                                         │
│   广告主 → 创建 → 广告计划 → 包含 → 广告任务                                           │
│                              │           ├──→ 投放 → 媒体版位                          │
│                              │           ├──→ 推广 → 推广标的                          │
│                              │           ├──→ 目标 → 转化目标                          │
│                              │           ├──→ 采用 → 出价策略                          │
│                              │           └──→ 使用 → 广告创意                          │
│                              │                                                            │
│                              │ 产生 → 投放数据 → 计算 → 指标                            │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 二、建模规范

| 类型 | 说明 | 示例 |
|------|------|------|
| 实体 Entity | 名词，表示可识别的事物 | 用户、APP、设备、广告主、计划、任务 |
| 关系 Relation | 实体之间的关联，不承载属性 | 用户 → 浏览 → 内容、用户 → 安装 → APP |
| 事件 Event | 关系的**强化形式**，用于需要记录属性明细的场景 | 浏览事件(记录时长/标签)、搜索事件(记录关键词) |
| 属性 Property | 实体的特征 | 年龄、性别、预算、标签 |

> **关系 vs 事件**：关系用于表达简单的关联（如"用户看过内容"），事件用于需要记录明细的场景（如"每次看了多久、什么时候看的"）。事件本质是"带属性的关系"。
>
> **实体 vs 事件 vs 属性**：
> - 实体（User、App、Ad）：名词，可独立存在
> - 事件（安装、使用、浏览）：动词，表示发生的动作
> - 属性（age、name、duration）：描述实体或事件的特征

---

## 三、实体类型（Object 类型）

### 1. 用户相关实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 用户 | 核心实体 | 用户ID | 唯一标识 |
| 用户 | 核心实体 | 年龄 | 年龄区间 |
| 用户 | 核心实体 | 性别 | 男/女/未知 |
| 用户 | 核心实体 | 职业 | 职业分类 |
| 用户 | 核心实体 | 收入区间 | 收入范围 |
| 用户 | 核心实体 | 婚姻状况 | 未婚/已婚/离异/丧偶 |
| 用户 | 核心实体 | 是否有小孩 | 是/否/怀孕中 |
| 用户 | 核心实体 | 是否有车 | 是/否 |
| 用户 | 核心实体 | 现有车辆价值区间 | 0-10万/10-20万/20-30万/30-50万/50万以上 |
| 用户 | 核心实体 | 学历 | 高中/大专/本科/硕士/博士 |
| 用户 | 核心实体 | 是否有房产 | 是/否 |
| 设备 | 核心实体 | 设备ID | 唯一标识 |
| 设备 | 核心实体 | 品牌 | 华为/荣耀 |
| 设备 | 核心实体 | 型号 | 具体型号 |
| 设备 | 核心实体 | 系统版本 | HarmonyOS/EMUI版本 |
| 设备 | 核心实体 | 内存 | RAM大小 |
| 设备 | 核心实体 | 存储 | ROM大小 |
| 设备 | 核心实体 | 屏幕尺寸 | 屏幕大小 |
| 设备 | 核心实体 | 网络类型 | 2G/3G/4G/5G/Wi-Fi |
| 用户场景 | 上下文 | 场景类型 | 出行/购物/工作/学习/娱乐 |
| 用户场景 | 上下文 | 时间段 | 早晨/中午/晚上/周末 |
| 用户场景 | 上下文 | 位置 | 家中/办公室/商场/地铁站/4S店 |
| 用户场景 | 上下文 | POI类型 | 家/公司/商业区/4S店/学校/医院 |
| 用户场景 | 上下文 | 网络环境 | 用于判断网络质量，影响广告加载和播放 |

### 2. 应用实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 应用 | 核心实体 | 应用ID | 唯一标识 |
| 应用 | 核心实体 | 应用名称 | 应用名称 |
| 应用 | 核心实体 | 应用描述 | App功能简介 |
| 应用 | 核心实体 | 应用标签 | 分类/标签（娱乐、社交、工具、生活服务） |
| 应用 | 核心实体 | 应用分类 | 一级/二级分类 |
| 应用 | 核心实体 | 应用类型 | APP/小程序 |
| 应用 | 核心实体 | 包名 | 应用包名 |
| 应用 | 核心实体 | 小程序ID | 小程序标识 |
| 应用 | 核心实体 | 行业分类 | 所属行业 |
| 应用 | 核心实体 | 开发者 | 开发者信息 |
| 应用 | 核心实体 | 版本 | 当前版本号 |
| 应用 | 核心实体 | 下载量 | 累计下载次数 |
| 应用 | 核心实体 | 评分 | 用户评分 |

### 3. 事件类型（带属性的关系）

| 事件名称 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| APP安装事件 | 用户安装App | 事件ID | 唯一标识 |
| APP安装事件 | | 用户ID | 关联用户 |
| APP安装事件 | | 应用ID | 关联应用 |
| APP安装事件 | | 安装时间 | 具体时间 |
| APP安装事件 | | 来源 | 应用商店/广告/自然 |
| APP卸载事件 | 用户卸载App | 事件ID | 唯一标识 |
| APP卸载事件 | | 用户ID | 关联用户 |
| APP卸载事件 | | 应用ID | 关联应用 |
| APP卸载事件 | | 卸载时间 | 具体时间 |
| APP卸载事件 | | 使用时长 | 累计使用时长 |
| APP打开事件 | 用户打开App | 事件ID | 唯一标识 |
| APP打开事件 | | 用户ID | 关联用户 |
| APP打开事件 | | 应用ID | 关联应用 |
| APP打开事件 | | 打开时间 | 具体时间 |
| APP使用事件 | 用户使用App | 事件ID | 唯一标识 |
| APP使用事件 | | 用户ID | 关联用户 |
| APP使用事件 | | 应用ID | 关联应用 |
| APP使用事件 | | 开始时间 | 开始使用时间 |
| APP使用事件 | | 结束时间 | 结束使用时间 |
| APP使用事件 | | 使用时长 | 本次使用时长 |
| 浏览事件 | 用户浏览内容 | 事件ID | 唯一标识 |
| 浏览事件 | | 用户ID | 关联用户 |
| 浏览事件 | | 内容类型 | 内容分类 |
| 浏览事件 | | 内容标签 | 关键词标签 |
| 浏览事件 | | 内容细分类型 | 汽车资讯/汽车评测/汽车报价/汽车视频/汽车论坛 |
| 浏览事件 | | 开始时间 | 开始浏览时间 |
| 浏览事件 | | 结束时间 | 结束浏览时间 |
| 浏览事件 | | 浏览时长 | 本次浏览时长 |
| 浏览事件 | | 页面URL | 浏览页面地址 |
| 浏览事件 | | 页面标题 | 页面标题 |
| 浏览事件 | | 浏览内容ID | 关联浏览内容 |
| 搜索事件 | 用户搜索关键词 | 事件ID | 唯一标识 |
| 搜索事件 | | 用户ID | 关联用户 |
| 搜索事件 | | 搜索关键词 | 搜索内容 |
| 搜索事件 | | 搜索意图分类 | 品牌搜索/价格搜索/参数搜索/对比搜索/购车指南/贷款搜索 |
| 搜索事件 | | 搜索时间 | 具体时间 |
| 搜索事件 | | 搜索结果数量 | 搜索结果数量 |
| 搜索事件 | | 点击结果位置 | 点击结果的位置 |
| 搜索事件 | | 搜索内容ID | 关联搜索内容 |

### 4. 内容实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 浏览内容 | 内容实体 | 内容ID | 唯一标识 |
| 浏览内容 | 内容实体 | 内容类型 | 内容分类 |
| 浏览内容 | 内容实体 | 内容标题 | 内容标题 |
| 浏览内容 | 内容实体 | 内容标签 | 关键词标签 |
| 浏览内容 | 内容实体 | 内容摘要 | 内容摘要 |
| 浏览内容 | 内容实体 | 发布时间 | 发布时间 |
| 浏览内容 | 内容实体 | 来源URL | 内容来源地址 |
| 浏览内容 | 内容实体 | 行业分类 | 所属行业 |
| 浏览内容 | 内容实体 | 汽车品牌 | 关联汽车品牌（如有） |
| 浏览内容 | 内容实体 | 汽车车型 | 关联汽车车型（如有） |
| 搜索内容 | 内容实体 | 搜索内容ID | 唯一标识 |
| 搜索内容 | 内容实体 | 搜索关键词 | 搜索关键词 |
| 搜索内容 | 内容实体 | 搜索意图 | 搜索意图分类 |
| 搜索内容 | 内容实体 | 搜索时间 | 搜索时间 |

### 5. 广告投放实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 广告主 | 核心实体 | 广告主ID | 唯一标识 |
| 广告主 | 核心实体 | 公司名称 | 企业名称 |
| 广告主 | 核心实体 | 行业 | 所属行业 |
| 广告主 | 核心实体 | 账户余额 | 账户剩余金额 |
| 转化目标 | 目标实体 | 转化目标ID | 唯一标识 |
| 转化目标 | 目标实体 | 目标名称 | 目标名称 |
| 转化目标 | 目标实体 | 目标类型 | 注册/下载/购买 |
| 转化目标 | 目标实体 | 目标子类型 | 浅层/深层 |
| 转化目标 | 目标实体 | 期望CPA | 期望每次获取成本 |
| 转化目标 | 目标实体 | 关联行业 | 适用行业 |
| 广告计划 | 投放单元 | 计划ID | 唯一标识 |
| 广告计划 | 投放单元 | 计划名称 | 计划名称 |
| 广告计划 | 投放单元 | 广告主ID | 关联广告主 |
| 广告计划 | 投放单元 | 预算 | 总预算 |
| 广告计划 | 投放单元 | 投放周期 | 开始和结束时间 |
| 广告计划 | 投放单元 | 目标受众 | 受众定向条件 |
| 广告计划 | 投放单元 | 出价方式 | CPC/CPM/CPA/CPD |
| 广告计划 | 投放单元 | 出价金额 | 目标出价 |
| 广告任务 | 执行单元 | 任务ID | 唯一标识 |
| 广告任务 | 执行单元 | 任务名称 | 任务名称 |
| 广告任务 | 执行单元 | 计划ID | 关联计划 |
| 广告任务 | 执行单元 | 媒体版位ID | 关联媒体版位 |
| 广告任务 | 执行单元 | 目标受众 | 受众定向条件（继承或细化计划） |
| 广告任务 | 执行单元 | 出价方式 | 出价方式（继承计划） |
| 广告任务 | 执行单元 | 出价金额 | 具体出价（可调整） |
| 广告任务 | 执行单元 | 转化目标ID | 关联转化目标 |
| 推广标的 | 推广对象 | 标的ID | 唯一标识 |
| 推广标的 | 推广对象 | 标的名称 | 标的名称 |
| 推广标的 | 推广对象 | 标的类型 | APP/小程序/商品/服务/汽车 |
| 推广标的 | 推广对象 | 应用ID | APP包名 |
| 推广标的 | 推广对象 | 小程序ID | 小程序标识 |
| 推广标的 | 推广对象 | 商品ID | 商品编码 |
| 推广标的 | 推广对象 | 服务类型 | 服务分类 |
| 推广标的 | 推广对象 | 行业 | 所属行业 |
| 推广标的 | 推广对象 | 汽车ID | 关联汽车（如为汽车） |
| 广告创意 | 内容创意 | 创意ID | 唯一标识 |
| 广告创意 | 内容创意 | 创意类型 | 图片/视频/文案 |
| 广告创意 | 内容创意 | 创意内容 | 创意素材 |
| 广告创意 | 内容创意 | 落地页 | 跳转链接 |
| 广告创意 | 内容创意 | 尺寸 | 创意尺寸 |
| 广告创意 | 内容创意 | 风格 | 创意风格 |
| 出价策略 | 策略规则 | 策略ID | 唯一标识 |
| 出价策略 | 策略规则 | 策略名称 | 策略名称 |
| 出价策略 | 策略规则 | 出价方式 | 适用出价方式 |
| 出价策略 | 策略规则 | 适用场景 | 适用投放场景 |
| 出价策略 | 策略规则 | 适用行业 | 适用行业 |
| 出价策略 | 策略规则 | 调价规则 | 自动调价逻辑 |
| 行业 | 分类实体 | 行业ID | 唯一标识 |
| 行业 | 分类实体 | 行业名称 | 行业名称 |
| 行业 | 分类实体 | 行业层级 | 一级/二级/三级 |

### 6. 媒体流量实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 媒体 | 流量来源 | 媒体ID | 唯一标识 |
| 媒体 | 流量来源 | 媒体名称 | 媒体名称 |
| 媒体 | 流量来源 | 媒体分类 | 媒体类型 |
| 媒体 | 流量来源 | 日均活跃用户 | DAU数量 |
| 媒体 | 流量来源 | 用户画像 | 受众特征 |
| 流量位 | 广告位置 | 流量位ID | 唯一标识 |
| 流量位 | 广告位置 | 流量位名称 | 位置名称 |
| 流量位 | 广告位置 | 媒体ID | 关联媒体 |
| 流量位 | 广告位置 | 位置类型 | 开屏/信息流/横幅/插屏 |
| 流量位 | 广告位置 | 尺寸规格 | 宽×高 |
| 流量位 | 广告位置 | 曝光价格 | 基础曝光价格 |
| 流量位 | 广告位置 | 流量质量 | 流量质量评分 |
| 媒体版位 | 售卖单元 | 媒体版位ID | 唯一标识 |
| 媒体版位 | 售卖单元 | 版位名称 | 版位名称 |
| 媒体版位 | 售卖单元 | 媒体ID | 关联媒体 |
| 媒体版位 | 售卖单元 | 流量位列表 | 包含的流量位ID列表 |
| 媒体版位 | 售卖单元 | 版位类型 | 精品版位/普通版位/定向版位 |
| 媒体版位 | 售卖单元 | 曝光价格 | 基础曝光价格 |
| 媒体版位 | 售卖单元 | 流量质量 | 流量质量评分 |

### 7. 投放场景实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 投放场景 | 展示环境 | 场景ID | 唯一标识 |
| 投放场景 | 展示环境 | 场景名称 | 场景名称 |
| 投放场景 | 展示环境 | 场景类型 | 应用内/系统级/其他 |
| 投放场景 | 展示环境 | 适用媒体 | 适用媒体类型 |
| 投放场景 | 展示环境 | 适用行业 | 适用行业 |

### 8. 广告行为事件

| 事件名称 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| 广告请求 | 广告请求事件 | 请求ID | 唯一标识 |
| 广告请求 | | 用户ID | 关联用户 |
| 广告请求 | | 设备ID | 关联设备 |
| 广告请求 | | 媒体版位ID | 关联媒体版位 |
| 广告请求 | | 请求时间 | 具体时间 |
| 广告请求 | | 网络环境 | 网络质量 |
| 广告曝光 | 广告曝光事件 | 曝光ID | 唯一标识 |
| 广告曝光 | | 请求ID | 关联广告请求 |
| 广告曝光 | | 广告任务ID | 关联广告任务 |
| 广告曝光 | | 创意ID | 关联广告创意 |
| 广告曝光 | | 曝光时间 | 具体时间 |
| 广告点击 | 广告点击事件 | 点击ID | 唯一标识 |
| 广告点击 | | 曝光ID | 关联广告曝光 |
| 广告点击 | | 广告任务ID | 关联广告任务 |
| 广告点击 | | 点击时间 | 具体时间 |
| 广告转化 | 广告转化事件 | 转化ID | 唯一标识 |
| 广告转化 | | 点击ID | 关联广告点击 |
| 广告转化 | | 广告任务ID | 关联广告任务 |
| 广告转化 | | 转化目标ID | 关联转化目标 |
| 广告转化 | | 转化时间 | 具体时间 |

### 9. 广告竞价事件

| 事件名称 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| 广告竞价 | 竞价事件 | 竞价ID | 唯一标识 |
| 广告竞价 | | 请求ID | 关联广告请求 |
| 广告竞价 | | 广告任务ID | 关联广告任务 |
| 广告竞价 | | 竞价时间 | 具体时间 |
| 广告竞价 | | 出价金额 | 本次竞价出价 |
| 广告竞价 | | 竞价结果 | 成功/失败 |
| 广告竞价 | | 竞价排名 | 竞价排名 |
| 召回阶段 | 召回事件 | 召回ID | 唯一标识 |
| 召回阶段 | | 请求ID | 关联广告请求 |
| 召回阶段 | | 召回任务列表 | 召回的广告任务ID列表 |
| 召回阶段 | | 召回数量 | 召回的任务数量 |
| 召回阶段 | | 召回时间 | 具体时间 |
| 粗排阶段 | 粗排事件 | 粗排ID | 唯一标识 |
| 粗排阶段 | | 请求ID | 关联广告请求 |
| 粗排阶段 | | 粗排任务列表 | 粗排后的广告任务ID列表 |
| 粗排阶段 | | 粗排数量 | 粗排后的任务数量 |
| 粗排阶段 | | 粗排时间 | 具体时间 |
| 精排阶段 | 精排事件 | 精排ID | 唯一标识 |
| 精排阶段 | | 请求ID | 关联广告请求 |
| 精排阶段 | | 精排任务列表 | 精排后的广告任务ID列表 |
| 精排阶段 | | 精排数量 | 精排后的任务数量 |
| 精排阶段 | | 精排时间 | 具体时间 |

### 10. 汽车行业相关实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 汽车品牌 | 分类实体 | 品牌ID | 唯一标识 |
| 汽车品牌 | 分类实体 | 品牌名称 | 品牌名称 |
| 汽车品牌 | 分类实体 | 品牌国籍 | 品牌国籍 |
| 汽车品牌 | 分类实体 | 品牌定位 | 豪华/合资/自主/新势力 |
| 汽车品牌 | 分类实体 | 品牌调性 | 科技/商务/家庭/运动/越野 |
| 汽车 | 核心实体 | 汽车ID | 唯一标识 |
| 汽车 | 核心实体 | 汽车名称 | 汽车名称 |
| 汽车 | 核心实体 | 品牌ID | 关联汽车品牌 |
| 汽车 | 核心实体 | 车型 | 车型（轿车/SUV/MPV/跑车） |
| 汽车 | 核心实体 | 级别 | 级别（紧凑型/中型/中大型/大型） |
| 汽车 | 核心实体 | 价格区间 | 价格区间 |
| 汽车 | 核心实体 | 排量 | 发动机排量 |
| 汽车 | 核心实体 | 动力类型 | 燃油/纯电/插混/增程 |
| 汽车 | 核心实体 | 驱动方式 | 驱动方式（前驱/后驱/四驱） |
| 汽车 | 核心实体 | 燃油类型 | 燃油类型（汽油/柴油/电动/混动） |
| 汽车 | 核心实体 | 上市时间 | 上市时间 |
| 汽车 | 核心实体 | 销量排名 | 销量排名 |
| 汽车 | 核心实体 | 目标人群 | 目标人群画像 |
| 汽车 | 核心实体 | 竞品列表 | 竞品汽车ID列表 |
| 汽车用户 | 关联实体 | 汽车用户ID | 唯一标识 |
| 汽车用户 | 关联实体 | 用户ID | 关联用户 |
| 汽车用户 | 关联实体 | 汽车ID | 关联汽车 |
| 汽车用户 | 关联实体 | 购买时间 | 购买时间 |
| 汽车用户 | 关联实体 | 使用时长 | 使用时长 |
| 汽车用户 | 关联实体 | 保养记录 | 保养记录 |
| 汽车线索用户 | 数据实体 | 线索ID | 唯一标识 |
| 汽车线索用户 | 数据实体 | 用户ID | 关联用户（脱敏） |
| 汽车线索用户 | 数据实体 | 手机号 | 联系电话（加密） |
| 汽车线索用户 | 数据实体 | 汽车品牌 | 意向品牌 |
| 汽车线索用户 | 数据实体 | 汽车车型 | 意向车型 |
| 汽车线索用户 | 数据实体 | 意向级别 | 意向级别（高/中/低） |
| 汽车线索用户 | 数据实体 | 购车时间 | 计划购车时间（近期/半年内/一年内） |
| 汽车线索用户 | 数据实体 | 预算区间 | 购车预算区间 |
| 汽车线索用户 | 数据实体 | 所在城市 | 所在城市 |
| 汽车线索用户 | 数据实体 | 信息来源 | 线索来源（官网/APP/经销商/车展） |
| 汽车线索用户 | 数据实体 | 创建时间 | 线索创建时间 |
| 汽车线索用户 | 数据实体 | 跟进状态 | 跟进状态（未跟进/跟进中/已成交/已流失） |
| 汽车线索用户 | 数据实体 | 转化时间 | 成交时间（如有） |

### 11. 投放数据实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 投放数据 | 数据实体 | 数据ID | 唯一标识 |
| 投放数据 | 数据实体 | 广告任务ID | 关联广告任务 |
| 投放数据 | 数据实体 | 日期 | 投放日期 |
| 投放数据 | 数据实体 | 曝光量 | 曝光次数 |
| 投放数据 | 数据实体 | 点击量 | 点击次数 |
| 投放数据 | 数据实体 | 转化量 | 转化次数 |
| 投放数据 | 数据实体 | 消耗金额 | 消耗金额 |
| 投放数据 | 数据实体 | CPC | 平均点击成本 |
| 投放数据 | 数据实体 | CPM | 千次曝光成本 |
| 投放数据 | 数据实体 | CPA | 平均转化成本 |
| 投放数据 | 数据实体 | CTR | 点击率 |
| 投放数据 | 数据实体 | CVR | 转化率 |

### 12. 指标实体

| 实体名称 | 实体类型 | 属性 | 属性说明 |
|----------|----------|------|----------|
| 指标 | 结果实体 | 指标ID | 唯一标识 |
| 指标 | 结果实体 | 广告任务ID | 关联广告任务 |
| 指标 | 结果实体 | 日期 | 指标计算日期 |
| 指标 | 结果实体 | 指标类型 | 指标类型（曝光量、点击量、转化率、ROI等） |
| 指标 | 结果实体 | 指标值 | 指标具体数值 |
| 指标 | 结果实体 | 计算方式 | 指标计算方式 |
| 指标 | 结果实体 | 时间粒度 | 时间粒度（天/周/月） |

---

## 四、链接类型（关系）

### 1. 用户相关关系

- **用户 → 使用 → 设备**：用户使用设备
  - 基数：一对多（一个用户可以使用多个设备，一个设备可以被多个用户使用）
  - 显示名称：使用的设备 / 使用该设备的用户

- **用户 → 产生 → 事件**：用户产生行为事件（APP安装/卸载/打开/使用、浏览、搜索）
  - 基数：一对多（一个用户可以产生多个行为事件）
  - 显示名称：产生的行为事件 / 产生该行为事件的用户

- **用户 → 处于 → 用户场景**：用户处于特定场景
  - 基数：一对多（一个用户可以处于多个场景）
  - 显示名称：所处的场景 / 该场景中的用户

### 2. 应用相关关系

- **推广标的 → 属于 → 行业**：推广标的属于行业
  - 基数：多对一（多个推广标的可以属于一个行业）
  - 显示名称：所属行业 / 该行业的推广标的

### 3. 广告投放相关关系

- **广告主 → 创建 → 广告计划**：广告主创建广告计划
  - 基数：一对多（一个广告主可以创建多个广告计划）
  - 显示名称：创建的广告计划 / 创建该计划的广告主

- **广告计划 → 包含 → 广告任务**：广告计划包含广告任务
  - 基数：一对多（一个广告计划可以包含多个广告任务）
  - 显示名称：包含的广告任务 / 所属广告计划

- **广告任务 → 投放 → 媒体版位**：广告任务投放在媒体版位上
  - 基数：多对多（一个广告任务可以投放在多个媒体版位，一个媒体版位可以接受多个广告任务）
  - 显示名称：投放的媒体版位 / 接受该广告任务的媒体版位

- **广告任务 → 推广 → 推广标的**：广告任务推广推广标的
  - 基数：多对一（多个广告任务可以推广一个推广标的）
  - 显示名称：推广的标的 / 接受该推广的广告任务

- **广告任务 → 使用 → 广告创意**：广告任务使用广告创意
  - 基数：多对一（多个广告任务可以使用一个广告创意）
  - 显示名称：使用的创意 / 被使用的广告任务

- **广告任务 → 采用 → 出价策略**：广告任务采用出价策略
  - 基数：多对一（多个广告任务可以采用一个出价策略）
  - 显示名称：采用的出价策略 / 被采用的广告任务

- **广告任务 → 目标 → 转化目标**：广告任务有转化目标
  - 基数：多对一（多个广告任务可以有同一个转化目标）
  - 显示名称：转化目标 / 有该转化目标的广告任务

### 4. 行为事件相关关系

- **事件 → 关联 → 浏览内容**：浏览事件关联浏览内容
  - 基数：多对一（多个事件可以关联同一个浏览内容）
  - 显示名称：关联的浏览内容 / 关联该内容的事件

- **事件 → 关联 → 搜索内容**：搜索事件关联搜索内容
  - 基数：多对一（多个事件可以关联同一个搜索内容）
  - 显示名称：关联的搜索内容 / 关联该内容的事件

### 5. 媒体流量相关关系

- **媒体 → 包含 → 流量位**：媒体包含流量位
  - 基数：一对多（一个媒体可以包含多个流量位）
  - 显示名称：包含的流量位 / 所属媒体

- **流量位 → 属于 → 媒体版位**：流量位属于媒体版位
  - 基数：多对多（一个流量位可以属于多个媒体版位，一个媒体版位可以包含多个流量位）
  - 显示名称：所属媒体版位 / 包含的流量位

### 6. 广告行为相关关系

- **广告请求 → 触发 → 广告竞价**：广告请求触发广告竞价
  - 基数：一对一（一个广告请求触发一个广告竞价）
  - 显示名称：触发的广告竞价 / 被触发的广告请求

- **广告竞价 → 包含 → 召回阶段**：广告竞价包含召回阶段
  - 基数：一对一（一个广告竞价包含一个召回阶段）
  - 显示名称：包含的召回阶段 / 所属广告竞价

- **广告竞价 → 包含 → 粗排阶段**：广告竞价包含粗排阶段
  - 基数：一对一（一个广告竞价包含一个粗排阶段）
  - 显示名称：包含的粗排阶段 / 所属广告竞价

- **广告竞价 → 包含 → 精排阶段**：广告竞价包含精排阶段
  - 基数：一对一（一个广告竞价包含一个精排阶段）
  - 显示名称：包含的精排阶段 / 所属广告竞价

- **广告竞价 → 结果 → 广告曝光**：广告竞价成功后产生广告曝光
  - 基数：一对多（一个广告竞价可能产生多个广告曝光）
  - 显示名称：产生的广告曝光 / 对应的广告竞价

- **广告曝光 → 触发 → 广告点击**：广告曝光触发广告点击
  - 基数：一对多（一个广告曝光可能产生多个广告点击）
  - 显示名称：触发的广告点击 / 对应的广告曝光

- **广告点击 → 触发 → 广告转化**：广告点击触发广告转化
  - 基数：一对多（一个广告点击可能产生多个广告转化）
  - 显示名称：触发的广告转化 / 对应的广告点击

### 7. 汽车行业相关关系

- **汽车 → 属于 → 汽车品牌**：汽车属于汽车品牌
  - 基数：多对一（多个汽车属于一个汽车品牌）
  - 显示名称：所属汽车品牌 / 该品牌的汽车

- **用户 → 拥有 → 汽车用户**：用户拥有汽车用户信息
  - 基数：一对多（一个用户可以拥有多个汽车用户信息）
  - 显示名称：拥有的汽车用户信息 / 对应的用户

- **汽车 → 被拥有 → 汽车用户**：汽车被用户拥有
  - 基数：多对一（一个汽车可以被多个用户拥有）
  - 显示名称：拥有该汽车的用户 / 对应的汽车

### 8. 投放数据相关关系

- **广告任务 → 产生 → 投放数据**：广告任务产生投放数据
  - 基数：一对多（一个广告任务可以产生多条投放数据）
  - 显示名称：产生的投放数据 / 对应的广告任务

- **投放数据 → 计算 → 指标**：投放数据计算产生指标
  - 基数：一对多（一条投放数据可以计算产生多个指标）
  - 显示名称：计算的指标 / 对应的投放数据

---

## 五、数据表映射（知识 + 能力层）

> 本节描述每个实体可获取的数据表，包括原始表和聚合表，以及统计类属性的设计。

### 5.1 用户行为事件数据

#### APP使用事件

**原始表**：`app_usage_events`（每次使用一条记录）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| app_name | string | App名称 |
| start_time | timestamp | 开始使用时间 |
| end_time | timestamp | 结束使用时间 |
| duration_sec | int | 单次使用时长(秒) |

**聚合表**：`daily_app_usage`（每日一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| app_name | string | App名称 |
| date | date | 日期 |
| total_duration_min | int | 当天累计使用时长(分钟) |
| open_count | int | 打开次数 |
| first_active_time | timestamp | 首次活跃时间 |
| last_active_time | timestamp | 最后活跃时间 |

---

#### 浏览事件

**原始表**：`browse_events`（每次浏览一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| content_type | string | 内容类型(视频/图文/商品) |
| content_tags | json | 内容标签数组 |
| duration_sec | int | 浏览时长(秒) |
| browse_time | timestamp | 浏览时间 |

**聚合表**：`daily_browse_stats`

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| date | date | 日期 |
| total_browse_time_min | int | 当天累计浏览时长 |
| browse_count | int | 浏览次数 |
| top_content_types | json | 内容类型分布 |
| top_content_tags | json | 内容标签分布 |

---

#### 搜索事件

**原始表**：`search_events`（每次搜索一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| keyword | string | 搜索关键词 |
| search_time | timestamp | 搜索时间 |

**聚合表**：`daily_search_stats`

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| date | date | 日期 |
| search_count | int | 搜索次数 |
| top_keywords | json | 高频搜索词 |

---

### 5.2 广告投放数据

#### 广告任务

**聚合表**：`task_daily_stats`（每日一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| task_id | string | 任务ID |
| date | date | 日期 |
| impression | int | 曝光量 |
| click | int | 点击量 |
| conversion | int | 转化量 |
| cost | decimal | 消耗金额 |
| cpc | decimal | 平均点击成本 |
| cpm | decimal | 千次曝光成本 |
| cpa | decimal | 单转化成本 |
| ctr | decimal | 点击率 |
| cvr | decimal | 转化率 |

---

## 六、统计类属性设计

> 统计类属性是支撑大模型推理的关键。本节按实体分类，说明每个实体应设计哪些统计维度。

### 6.1 统计属性设计原则

| 维度 | 说明 | 示例 |
|------|------|------|
| 时间维度 | 不同时间范围的统计 | 今日、近7天、近30天 |
| 对比维度 | 与历史或整体对比 | 环比变化、同比变化、排名占比 |
| 分布维度 | 多维度分布情况 | 时段分布、内容类型分布、地域分布 |
| 派生标签 | 基于统计的标签化 | 高活跃/低活跃、上升趋势/下降趋势 |

### 6.2 用户行为事件统计属性

#### APP使用事件

| 统计属性 | 时间范围 | 计算方式 | 推理用途 |
|----------|----------|----------|----------|
| 累计使用时长 | 天/周/月 | sum(duration) | 判断用户对App依赖程度 |
| 使用天数 | 近7天/近30天 | count(distinct date) | 活跃度判断 |
| 使用频次 | 今日/近7天 | sum(open_count) | 使用频繁度 |
| 平均单次时长 | 近30天 | avg(duration) | 使用深度 |
| 最近使用距今 | 实时 | now - last_active_time | 流失风险 |
| 使用时段分布 | 实时 | hour分组统计 | 使用习惯(早/午/晚/凌晨) |
| 常用App排名 | 近7天/近30天 | 按时长排序 | 兴趣偏好 |
| App使用稳定性 | 近30天 | 方差/波动 | 用户类型(稳定/波动) |

| **派生标签**：

| 标签 | 规则 | 说明 |
|------|------|------|
| 重度用户 | 近7天使用天数≥5天且日均≥60min | 高价值用户 |
| 中度用户 | 近7天使用天数3-4天 | 有潜力 |
| 轻度用户 | 近7天使用天数1-2天 | 需激活 |
| 沉默用户 | 近30天未使用 | 流失风险 |
| 夜间用户 | 23:00-06:00使用占比>50% | 特殊作息 |

#### 搜索事件

| 统计属性 | 时间范围 | 推理用途 |
|----------|----------|----------|
| 搜索频次 | 今日/近7天 | 意图强度 |
| 高频关键词 | 近7天/近30天 | 兴趣方向 |
| 搜索类别分布 | 近30天 | 兴趣偏好结构 |
| 搜索时段 | 实时 | 即时需求 |

**派生标签**：

| 标签 | 规则 |
|------|------|
| 品类搜索者 | 搜索词含品类词(手机、耳机) |
| 价格敏感型 | 多次搜索"价格、多少钱、优惠" |
| 品牌忠诚型 | 重复搜索同一品牌 |

### 6.3 广告投放统计属性

#### 广告任务

| 统计属性 | 时间范围 | 推理用途 |
|----------|----------|----------|
| 曝光量 | 今日/累计 | 投放规模 |
| 点击量 | 今日/累计 | 流量质量 |
| 转化量 | 今日/累计 | 转化效果 |
| 消耗金额 | 今日/累计 | 成本控制 |
| CTR | 实时 | 创意吸引力 |
| CVR | 实时 | 落地页/人群质量 |
| CPA | 实时 | 成本效率 |
| 预算消耗进度 | 实时 | 投放健康度 |
| 转化趋势 | 近7天/近30天 | 效果走势 |

**派生标签**：

| 标签 | 规则 |
|------|------|
| 高ROI | CPA < 期望CPA * 0.8 |
| 待优化 | CTR < 行业平均 * 0.7 |
| 预算耗尽 | 消耗进度 > 95% |
| 新任务 | 创建时间 < 7天 |

#### 推广标的 APP

| 统计属性 | 推理用途 |
|----------|----------|
| 被投放次数 | 广告主选择热度 |
| 平均CPA | 行业竞争程度 |
| 行业分布 | 适合哪些行业广告 |

---

### 6.4 统计属性查询示例

大模型推理时可按以下模式获取数据：

```
推理场景：判断用户是否对"短视频"感兴趣

查询步骤：
1. 查询 daily_app_usage
   - 条件: user_id=? AND date BETWEEN (NOW()-30d, NOW())
   - 字段: app_name, total_duration_min
2. 过滤标签含"短视频"的App
3. 计算:
   - 近30天短视频使用时长 = sum(符合条件的记录)
   - 占比 = 短视频时长 / 总时长
4. 派生结论:
   - 占比 > 30% → 标签: "短视频爱好者"
   - 占比 10%-30% → 标签: "短视频轻度用户"
   - 占比 < 10% → 标签: "非短视频用户"
```

---

## 七、数据覆盖说明

| 数据类型 | 覆盖率 | 处理方式 |
|----------|--------|----------|
| APP行为 | 较高 | 正常参与特征计算 |
| 用户画像 | 高 | 核心定向维度 |
| 搜索/浏览 | ~30% | 标记"未知"，作为补充信号 |
| 广告行为 | 高 | 核心业务数据，用于效果分析 |

---

## 八、设计说明

### 1. 实体类型设计

- **核心实体**：用户、设备、广告主、应用、汽车
- **上下文实体**：用户场景
- **事件**：带属性的关系，用于记录行为明细
- **内容实体**：浏览内容、搜索内容
- **目标实体**：转化目标
- **投放单元实体**：广告计划、广告任务
- **推广对象实体**：推广标的
- **内容创意实体**：广告创意
- **策略规则实体**：出价策略
- **分类实体**：行业、汽车品牌
- **流量来源实体**：媒体
- **广告位置实体**：流量位
- **售卖单元实体**：媒体版位
- **展示环境实体**：投放场景
- **汽车相关实体**：汽车、汽车用户
- **数据实体**：投放数据
- **结果实体**：指标

### 2. 关系设计

- 使用链接类型概念，明确实体之间的关系
- 关系类型包括：使用、安装、产生、处于、属于、创建、包含、投放、推广、使用、采用、目标、关联等
- 建立了用户行为与内容实体的关联关系，便于用户行为分析

### 3. 事件 vs 关系

- **关系**：表达简单的关联（如"用户看过内容"），不加属性
- **事件**：带属性的关系，用于需要记录明细的场景（如"每次看了多久"）
- 本质：事件是关系的强化形式

### 4. 数据处理

- 对覆盖率低的数据（如搜索/浏览行为）标记为"未知"，避免算法误判
- 对实体属性进行标准化处理，提高数据质量

### 5. 统计类属性

- 设计了时间维度、对比维度、分布维度、派生标签四大类统计属性
- 支撑大模型推理和决策
- 通过聚合表提供高效的统计查询能力