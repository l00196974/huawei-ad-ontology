# 华为广告本体模型设计 v3.0

> 创建日期：2026-02-25
> 版本：v3.0

---

## 一、对象类型与链接类型总览图

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              对象类型 Object Types                                        │
│                                                                                         │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐               │
│  │   用户   │    │  设备   │    │  广告主  │    │   APP   │    │  汽车   │               │
│  │  User   │    │ Device  │    │Advertiser│   │   App   │    │  Car   │               │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘               │
│                                                                                         │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐               │
│  │ 用户场景 │    │ 媒体版位 │    │推广标的 │    │ 浏览内容 │    │汽车品牌 │               │
│  │ Context │    │Placement│    │  Target  │    │ Content │    │Brand   │               │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘               │
│                                                                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐        │
│  │                         事件对象（带属性的对象类型）                             │        │
│  │   APP安装  APP卸载  APP打开  APP使用  浏览  搜索  广告曝光  广告点击  广告转化  │        │
│  └─────────────────────────────────────────────────────────────────────────────┘        │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          │ Link Types（链接类型）
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              链接类型 Link Types                                         │
│                                                                                         │
│   用户 ──使用──→ 设备                      广告主 ──创建──→ 广告计划                    │
│   用户 ──产生──→ 事件                       广告计划 ──包含──→ 广告任务                  │
│   用户 ──处于──→ 用户场景                   广告任务 ──投放──→ 媒体版位                  │
│                                         广告任务 ──推广──→ 推广标的                      │
│                                         广告任务 ──目标──→ 转化目标                      │
│                                         事件 ──关联──→ 内容                             │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 二、建模规范（基于 Palantir Foundry）

| 类型 | 说明 | 示例 |
|------|------|------|
| 对象类型 Object Type | 名词，表示可识别的事物 | 用户、APP、设备、广告主、计划、任务 |
| 事件 | 对象类型的一种，用于记录发生的动作 | APP安装、APP使用、浏览、搜索、广告曝光 |
| 链接类型 Link Type | 对象类型之间的关联 | 用户 → 使用 → 设备、用户 → 产生 → 事件 |
| 属性 Property | 对象类型或事件的特征 | 年龄、性别、预算、标签、使用时长 |

> **对象类型 vs 链接类型**：
> - 对象类型：表示"是什么"（User、App、AdTask）
> - 链接类型：表示"关系"（使用、安装、推广、投放）
>
> **事件是对象类型**：事件本质上也是一种对象类型，用于记录带有时间戳和属性的行为数据。

---

## 三、对象类型（Object Types）

### 1. 用户相关对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 用户 | 核心 | 用户ID | 唯一标识 |
| 用户 | 核心 | 年龄 | 年龄区间 |
| 用户 | 核心 | 性别 | 男/女/未知 |
| 用户 | 核心 | 职业 | 职业分类 |
| 用户 | 核心 | 收入区间 | 收入范围 |
| 用户 | 核心 | 婚姻状况 | 未婚/已婚/离异/丧偶 |
| 用户 | 核心 | 是否有小孩 | 是/否/怀孕中 |
| 用户 | 核心 | 是否有车 | 是/否 |
| 用户 | 核心 | 现有车辆价值区间 | 0-10万/10-20万/20-30万/30-50万/50万以上 |
| 用户 | 核心 | 学历 | 高中/大专/本科/硕士/博士 |
| 用户 | 核心 | 是否有房产 | 是/否 |
| 设备 | 核心 | 设备ID | 唯一标识 |
| 设备 | 核心 | 品牌 | 华为/荣耀 |
| 设备 | 核心 | 型号 | 具体型号 |
| 设备 | 核心 | 系统版本 | HarmonyOS/EMUI版本 |
| 设备 | 核心 | 内存 | RAM大小 |
| 设备 | 核心 | 存储 | ROM大小 |
| 设备 | 核心 | 屏幕尺寸 | 屏幕大小 |
| 设备 | 核心 | 网络类型 | 2G/3G/4G/5G/Wi-Fi |
| 用户场景 | 上下文 | 场景类型 | 出行/购物/工作/学习/娱乐 |
| 用户场景 | 上下文 | 时间段 | 早晨/中午/晚上/周末 |
| 用户场景 | 上下文 | 位置 | 家中/办公室/商场/地铁站/4S店 |
| 用户场景 | 上下文 | POI类型 | 家/公司/商业区/4S店/学校/医院 |
| 用户场景 | 上下文 | 网络环境 | 用于判断网络质量，影响广告加载和播放 |

### 2. 应用对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 应用 | 核心 | 应用ID | 唯一标识 |
| 应用 | 核心 | 应用名称 | 应用名称 |
| 应用 | 核心 | 应用描述 | App功能简介 |
| 应用 | 核心 | 应用标签 | 分类/标签（娱乐、社交、工具、生活服务） |
| 应用 | 核心 | 应用分类 | 一级/二级分类 |
| 应用 | 核心 | 应用类型 | APP/小程序 |
| 应用 | 核心 | 包名 | 应用包名 |
| 应用 | 核心 | 小程序ID | 小程序标识 |
| 应用 | 核心 | 行业分类 | 所属行业 |
| 应用 | 核心 | 开发者 | 开发者信息 |
| 应用 | 核心 | 版本 | 当前版本号 |
| 应用 | 核心 | 下载量 | 累计下载次数 |
| 应用 | 核心 | 评分 | 用户评分 |

### 3. 事件对象类型（带属性的行为记录）

| 对象类型 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| APP安装事件 | 用户安装App | 事件ID | 唯一标识 |
| APP安装事件 | | 用户ID | 关联用户 |
| APP安装事件 | | 应用ID | 关联应用 |
| APP安装事件 | | 安装时间 | 具体时间 |
| APP安装事件 | | 来源 | 应用商店/广告/自然 |
| APP卸载事件 | 用户卸载App | 事件ID | 唯一标识 |
| APP卸载事件 | | 用户ID | 关联用户 |
| APP卸载事件 | | 应用ID | 关联应用 |
| APP卸载事件 | | 卸载时间 | 具体时间 |
| APP卸载事件 | | 使用时长 | 累计使用时长 |
| APP打开事件 | 用户打开App | 事件ID | 唯一标识 |
| APP打开事件 | | 用户ID | 关联用户 |
| APP打开事件 | | 应用ID | 关联应用 |
| APP打开事件 | | 打开时间 | 具体时间 |
| APP使用事件 | 用户使用App | 事件ID | 唯一标识 |
| APP使用事件 | | 用户ID | 关联用户 |
| APP使用事件 | | 应用ID | 关联应用 |
| APP使用事件 | | 开始时间 | 开始使用时间 |
| APP使用事件 | | 结束时间 | 结束使用时间 |
| APP使用事件 | | 使用时长 | 本次使用时长 |
| 浏览事件 | 用户浏览内容 | 事件ID | 唯一标识 |
| 浏览事件 | | 用户ID | 关联用户 |
| 浏览事件 | | 内容类型 | 内容分类 |
| 浏览事件 | | 内容标签 | 关键词标签 |
| 浏览事件 | | 内容细分类型 | 汽车资讯/汽车评测/汽车报价/汽车视频/汽车论坛 |
| 浏览事件 | | 开始时间 | 开始浏览时间 |
| 浏览事件 | | 结束时间 | 结束浏览时间 |
| 浏览事件 | | 浏览时长 | 本次浏览时长 |
| 浏览事件 | | 页面URL | 浏览页面地址 |
| 浏览事件 | | 页面标题 | 页面标题 |
| 浏览事件 | | 浏览内容ID | 关联浏览内容 |
| 搜索事件 | 用户搜索关键词 | 事件ID | 唯一标识 |
| 搜索事件 | | 用户ID | 关联用户 |
| 搜索事件 | | 搜索关键词 | 搜索内容 |
| 搜索事件 | | 搜索意图分类 | 品牌搜索/价格搜索/参数搜索/对比搜索/购车指南/贷款搜索 |
| 搜索事件 | | 搜索时间 | 具体时间 |
| 搜索事件 | | 搜索结果数量 | 搜索结果数量 |
| 搜索事件 | | 点击结果位置 | 点击结果的位置 |
| 搜索事件 | | 搜索内容ID | 关联搜索内容 |

### 4. 内容对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 浏览内容 | 内容 | 内容ID | 唯一标识 |
| 浏览内容 | 内容 | 内容类型 | 内容分类 |
| 浏览内容 | 内容 | 内容标题 | 内容标题 |
| 浏览内容 | 内容 | 内容标签 | 关键词标签 |
| 浏览内容 | 内容 | 内容摘要 | 内容摘要 |
| 浏览内容 | 内容 | 发布时间 | 发布时间 |
| 浏览内容 | 内容 | 来源URL | 内容来源地址 |
| 浏览内容 | 内容 | 行业分类 | 所属行业 |
| 浏览内容 | 内容 | 汽车品牌 | 关联汽车品牌（如有） |
| 浏览内容 | 内容 | 汽车车型 | 关联汽车车型（如有） |
| 搜索内容 | 内容 | 搜索内容ID | 唯一标识 |
| 搜索内容 | 内容 | 搜索关键词 | 搜索关键词 |
| 搜索内容 | 内容 | 搜索意图 | 搜索意图分类 |
| 搜索内容 | 内容 | 搜索时间 | 搜索时间 |

### 5. 广告投放对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 广告主 | 核心 | 广告主ID | 唯一标识 |
| 广告主 | 核心 | 公司名称 | 企业名称 |
| 广告主 | 核心 | 行业 | 所属行业 |
| 广告主 | 核心 | 账户余额 | 账户剩余金额 |
| 转化目标 | 目标 | 转化目标ID | 唯一标识 |
| 转化目标 | 目标 | 目标名称 | 目标名称 |
| 转化目标 | 目标 | 目标类型 | 注册/下载/购买 |
| 转化目标 | 目标 | 目标子类型 | 浅层/深层 |
| 转化目标 | 目标 | 期望CPA | 期望每次获取成本 |
| 转化目标 | 目标 | 关联行业 | 适用行业 |
| 广告计划 | 投放单元 | 计划ID | 唯一标识 |
| 广告计划 | 投放单元 | 计划名称 | 计划名称 |
| 广告计划 | 投放单元 | 广告主ID | 关联广告主 |
| 广告计划 | 投放单元 | 预算 | 总预算 |
| 广告计划 | 投放单元 | 投放周期 | 开始和结束时间 |
| 广告计划 | 投放单元 | 目标受众 | 受众定向条件 |
| 广告计划 | 投放单元 | 出价方式 | CPC/CPM/CPA/CPD |
| 广告计划 | 投放单元 | 出价金额 | 目标出价 |
| 广告任务 | 执行单元 | 任务ID | 唯一标识 |
| 广告任务 | 执行单元 | 任务名称 | 任务名称 |
| 广告任务 | 执行单元 | 计划ID | 关联计划 |
| 广告任务 | 执行单元 | 媒体版位ID | 关联媒体版位 |
| 广告任务 | 执行单元 | 目标受众 | 受众定向条件（继承或细化计划） |
| 广告任务 | 执行单元 | 出价方式 | 出价方式（继承计划） |
| 广告任务 | 执行单元 | 出价金额 | 具体出价（可调整） |
| 广告任务 | 执行单元 | 转化目标ID | 关联转化目标 |
| 推广标的 | 推广对象 | 标的ID | 唯一标识 |
| 推广标的 | 推广对象 | 标的名称 | 标的名称 |
| 推广标的 | 推广对象 | 标的类型 | APP/小程序/商品/服务/汽车 |
| 推广标的 | 推广对象 | 应用ID | APP包名 |
| 推广标的 | 推广对象 | 小程序ID | 小程序标识 |
| 推广标的 | 推广对象 | 商品ID | 商品编码 |
| 推广标的 | 推广对象 | 服务类型 | 服务分类 |
| 推广标的 | 推广对象 | 行业 | 所属行业 |
| 推广标的 | 推广对象 | 汽车ID | 关联汽车（如为汽车） |
| 广告创意 | 内容创意 | 创意ID | 唯一标识 |
| 广告创意 | 内容创意 | 创意类型 | 图片/视频/文案 |
| 广告创意 | 内容创意 | 创意内容 | 创意素材 |
| 广告创意 | 内容创意 | 落地页 | 跳转链接 |
| 广告创意 | 内容创意 | 尺寸 | 创意尺寸 |
| 广告创意 | 内容创意 | 风格 | 创意风格 |
| 出价策略 | 策略规则 | 策略ID | 唯一标识 |
| 出价策略 | 策略规则 | 策略名称 | 策略名称 |
| 出价策略 | 策略规则 | 出价方式 | 适用出价方式 |
| 出价策略 | 策略规则 | 适用场景 | 适用投放场景 |
| 出价策略 | 策略规则 | 适用行业 | 适用行业 |
| 出价策略 | 策略规则 | 调价规则 | 自动调价逻辑 |
| 行业 | 分类 | 行业ID | 唯一标识 |
| 行业 | 分类 | 行业名称 | 行业名称 |
| 行业 | 分类 | 行业层级 | 一级/二级/三级 |

### 6. 媒体流量对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 媒体 | 流量来源 | 媒体ID | 唯一标识 |
| 媒体 | 流量来源 | 媒体名称 | 媒体名称 |
| 媒体 | 流量来源 | 媒体分类 | 媒体类型 |
| 媒体 | 流量来源 | 日均活跃用户 | DAU数量 |
| 媒体 | 流量来源 | 用户画像 | 受众特征 |
| 流量位 | 广告位置 | 流量位ID | 唯一标识 |
| 流量位 | 广告位置 | 流量位名称 | 位置名称 |
| 流量位 | 广告位置 | 媒体ID | 关联媒体 |
| 流量位 | 广告位置 | 位置类型 | 开屏/信息流/横幅/插屏 |
| 流量位 | 广告位置 | 尺寸规格 | 宽×高 |
| 流量位 | 广告位置 | 曝光价格 | 基础曝光价格 |
| 流量位 | 广告位置 | 流量质量 | 流量质量评分 |
| 媒体版位 | 售卖单元 | 媒体版位ID | 唯一标识 |
| 媒体版位 | 售卖单元 | 版位名称 | 版位名称 |
| 媒体版位 | 售卖单元 | 媒体ID | 关联媒体 |
| 媒体版位 | 售卖单元 | 流量位列表 | 包含的流量位ID列表 |
| 媒体版位 | 售卖单元 | 版位类型 | 精品版位/普通版位/定向版位 |
| 媒体版位 | 售卖单元 | 曝光价格 | 基础曝光价格 |
| 媒体版位 | 售卖单元 | 流量质量 | 流量质量评分 |

### 7. 投放场景对象类型

### 8. 广告行为事件对象类型

> 广告行为是一个事件链：广告请求 → 广告曝光 → 广告点击 → 广告转化

| 对象类型 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| 广告请求事件 | 用户触发广告请求 | 请求ID | 唯一标识 |
| 广告请求事件 | | 用户ID | 关联用户 |
| 广告请求事件 | | 设备ID | 关联设备 |
| 广告请求事件 | | 媒体版位ID | 关联媒体版位 |
| 广告请求事件 | | 请求时间 | 具体时间 |
| 广告请求事件 | | 网络环境 | 网络质量 |
| 广告曝光事件 | 广告展示给用户 | 曝光ID | 唯一标识 |
| 广告曝光事件 | | 请求ID | 关联广告请求 |
| 广告曝光事件 | | 广告任务ID | 关联广告任务 |
| 广告曝光事件 | | 创意ID | 关联广告创意 |
| 广告曝光事件 | | 曝光时间 | 具体时间 |
| 广告点击事件 | 用户点击广告 | 点击ID | 唯一标识 |
| 广告点击事件 | | 曝光ID | 关联广告曝光 |
| 广告点击事件 | | 广告任务ID | 关联广告任务 |
| 广告点击事件 | | 点击时间 | 具体时间 |
| 广告转化事件 | 用户完成转化 | 转化ID | 唯一标识 |
| 广告转化事件 | | 点击ID | 关联广告点击 |
| 广告转化事件 | | 广告任务ID | 关联广告任务 |
| 广告转化事件 | | 转化目标ID | 关联转化目标 |
| 广告转化事件 | | 转化时间 | 具体时间 |

### 9. 广告竞价事件对象类型

> 广告竞价是投放引擎内部的处理过程

| 对象类型 | 说明 | 属性 | 属性说明 |
|----------|------|------|----------|
| 广告召回事件 | 广告召回阶段 | 召回ID | 唯一标识 |
| 广告召回事件 | | 请求ID | 关联广告请求 |
| 广告召回事件 | | 召回任务列表 | 召回的广告任务ID列表 |
| 广告召回事件 | | 召回数量 | 召回的任务数量 |
| 广告召回事件 | | 召回时间 | 具体时间 |
| 广告粗排事件 | 广告粗排阶段 | 粗排ID | 唯一标识 |
| 广告粗排事件 | | 请求ID | 关联广告请求 |
| 广告粗排事件 | | 粗排任务列表 | 粗排后的广告任务ID列表 |
| 广告粗排事件 | | 粗排数量 | 粗排后的任务数量 |
| 广告粗排事件 | | 粗排时间 | 具体时间 |
| 广告精排事件 | 广告精排阶段 | 精排ID | 唯一标识 |
| 广告精排事件 | | 请求ID | 关联广告请求 |
| 广告精排事件 | | 精排任务列表 | 精排后的广告任务ID列表 |
| 广告精排事件 | | 精排数量 | 精排后的任务数量 |
| 广告精排事件 | | 精排时间 | 具体时间 |

### 10. 汽车行业对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 汽车品牌 | 分类 | 品牌ID | 唯一标识 |
| 汽车品牌 | 分类 | 品牌名称 | 品牌名称 |
| 汽车品牌 | 分类 | 品牌国籍 | 品牌国籍 |
| 汽车品牌 | 分类 | 品牌定位 | 豪华/合资/自主/新势力 |
| 汽车品牌 | 分类 | 品牌调性 | 科技/商务/家庭/运动/越野 |
| 汽车 | 核心 | 汽车ID | 唯一标识 |
| 汽车 | 核心 | 汽车名称 | 汽车名称 |
| 汽车 | 核心 | 品牌ID | 关联汽车品牌 |
| 汽车 | 核心 | 车型 | 车型（轿车/SUV/MPV/跑车） |
| 汽车 | 核心 | 级别 | 级别（紧凑型/中型/中大型/大型） |
| 汽车 | 核心 | 价格区间 | 价格区间 |
| 汽车 | 核心 | 排量 | 发动机排量 |
| 汽车 | 核心 | 动力类型 | 燃油/纯电/插混/增程 |
| 汽车 | 核心 | 驱动方式 | 驱动方式（前驱/后驱/四驱） |
| 汽车 | 核心 | 燃油类型 | 燃油类型（汽油/柴油/电动/混动） |
| 汽车 | 核心 | 上市时间 | 上市时间 |
| 汽车 | 核心 | 销量排名 | 销量排名 |
| 汽车 | 核心 | 目标人群 | 目标人群画像 |
| 汽车 | 核心 | 竞品列表 | 竞品汽车ID列表 |
| 汽车线索用户 | 数据 | 线索ID | 唯一标识 |
| 汽车线索用户 | 数据 | 用户ID | 关联用户（脱敏） |
| 汽车线索用户 | 数据 | 手机号 | 联系电话（加密） |
| 汽车线索用户 | 数据 | 汽车品牌 | 意向品牌 |
| 汽车线索用户 | 数据 | 汽车车型 | 意向车型 |
| 汽车线索用户 | 数据 | 意向级别 | 意向级别（高/中/低） |
| 汽车线索用户 | 数据 | 购车时间 | 计划购车时间（近期/半年内/一年内） |
| 汽车线索用户 | 数据 | 预算区间 | 购车预算区间 |
| 汽车线索用户 | 数据 | 所在城市 | 所在城市 |
| 汽车线索用户 | 数据 | 信息来源 | 线索来源（官网/APP/经销商/车展） |
| 汽车线索用户 | 数据 | 创建时间 | 线索创建时间 |
| 汽车线索用户 | 数据 | 跟进状态 | 跟进状态（未跟进/跟进中/已成交/已流失） |
| 汽车线索用户 | 数据 | 转化时间 | 成交时间（如有） |

### 11. 投放数据对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 投放数据 | 数据 | 数据ID | 唯一标识 |
| 投放数据 | 数据 | 广告任务ID | 关联广告任务 |
| 投放数据 | 数据 | 日期 | 投放日期 |
| 投放数据 | 数据 | 曝光量 | 曝光次数 |
| 投放数据 | 数据 | 点击量 | 点击次数 |
| 投放数据 | 数据 | 转化量 | 转化次数 |
| 投放数据 | 数据 | 消耗金额 | 消耗金额 |
| 投放数据 | 数据 | CPC | 平均点击成本 |
| 投放数据 | 数据 | CPM | 千次曝光成本 |
| 投放数据 | 平均转化成本 |
 数据 | CPA || 投放数据 | 数据 | CTR | 点击率 |
| 投放数据 | 数据 | CVR | 转化率 |

### 12. 指标对象类型

| 对象类型 | 类型 | 属性 | 属性说明 |
|----------|------|------|----------|
| 指标 | 结果 | 指标ID | 唯一标识 |
| 指标 | 结果 | 广告任务ID | 关联广告任务 |
| 指标 | 结果 | 日期 | 指标计算日期 |
| 指标 | 结果 | 指标类型 | 指标类型（曝光量、点击量、转化率、ROI等） |
| 指标 | 结果 | 指标值 | 指标具体数值 |
| 指标 | 结果 | 计算方式 | 指标计算方式 |
| 指标 | 结果 | 时间粒度 | 时间粒度（天/周/月） |

---

## 四、链接类型（Link Types）

### 1. 用户相关链接

- **用户 → 使用 → 设备**：用户使用设备
  - 基数：一对多（一个用户可以使用多个设备，一个设备可以被多个用户使用）

- **用户 → 产生 → 事件**：用户产生行为事件（APP安装/卸载/打开/使用、浏览、搜索）
  - 基数：一对多（一个用户可以产生多个行为事件）

- **用户 → 处于 → 用户场景**：用户处于特定场景
  - 基数：一对多（一个用户可以处于多个场景）

### 2. 应用相关链接

- **推广标的 → 属于 → 行业**：推广标的属于行业
  - 基数：多对一（多个推广标的可以属于一个行业）

### 3. 广告投放相关链接

- **广告主 → 创建 → 广告计划**：广告主创建广告计划
  - 基数：一对多（一个广告主可以创建多个广告计划）

- **广告计划 → 包含 → 广告任务**：广告计划包含广告任务
  - 基数：一对多（一个广告计划可以包含多个广告任务）

- **广告任务 → 投放 → 媒体版位**：广告任务投放在媒体版位上
  - 基数：多对多（一个广告任务可以投放在多个媒体版位，一个媒体版位可以接受多个广告任务）

- **广告任务 → 推广 → 推广标的**：广告任务推广推广标的
  - 基数：多对一（多个广告任务可以推广一个推广标的）

- **广告任务 → 使用 → 广告创意**：广告任务使用广告创意
  - 基数：多对一（多个广告任务可以使用一个广告创意）

- **广告任务 → 采用 → 出价策略**：广告任务采用出价策略
  - 基数：多对一（多个广告任务可以采用一个出价策略）

- **广告任务 → 目标 → 转化目标**：广告任务有转化目标
  - 基数：多对一（多个广告任务可以有同一个转化目标）

### 4. 行为事件相关链接

- **事件 → 关联 → 浏览内容**：浏览事件关联浏览内容
  - 基数：多对一（多个事件可以关联同一个浏览内容）

- **事件 → 关联 → 搜索内容**：搜索事件关联搜索内容
  - 基数：多对一（多个事件可以关联同一个搜索内容）

### 5. 媒体流量相关链接

- **媒体 → 包含 → 流量位**：媒体包含流量位
  - 基数：一对多（一个媒体可以包含多个流量位）

- **流量位 → 属于 → 媒体版位**：流量位属于媒体版位
  - 基数：多对多（一个流量位可以属于多个媒体版位，一个媒体版位可以包含多个流量位）

### 6. 广告行为事件链链接

> 广告行为是一个事件链：广告请求 → 广告曝光 → 广告点击 → 广告转化

- **广告请求事件 → 产生 → 广告曝光事件**：请求成功后产生曝光
  - 基数：一对多（一个请求可以产生多次曝光）

- **广告曝光事件 → 产生 → 广告点击事件**：曝光后用户点击
  - 基数：一对多（一次曝光可以产生多次点击）

- **广告点击事件 → 产生 → 广告转化事件**：点击后用户转化
  - 基数：一对多（一次点击可以产生多次转化）

### 7. 汽车行业相关链接

- **汽车 → 属于 → 汽车品牌**：汽车属于汽车品牌
  - 基数：多对一（多个汽车属于一个汽车品牌）

- **用户 → 拥有 → 汽车用户**：用户拥有汽车用户信息
  - 基数：一对多（一个用户可以拥有多个汽车用户信息）

- **汽车 → 被拥有 → 汽车用户**：汽车被用户拥有
  - 基数：多对一（一个汽车可以被多个用户拥有）

### 8. 投放数据相关链接

- **广告任务 → 产生 → 投放数据**：广告任务产生投放数据
  - 基数：一对多（一个广告任务可以产生多条投放数据）

- **投放数据 → 计算 → 指标**：投放数据计算产生指标
  - 基数：一对多（一条投放数据可以计算产生多个指标）

---

## 五、数据表映射（知识 + 能力层）

> 本节描述每个对象类型可获取的数据表，包括原始表和聚合表。

### 5.1 用户行为事件数据

#### APP使用事件

**原始表**：`app_usage_events`（每次使用一条记录）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| app_name | string | App名称 |
| start_time | timestamp | 开始使用时间 |
| end_time | timestamp | 结束使用时间 |
| duration_sec | int | 单次使用时长(秒) |

**聚合表**：`daily_app_usage`（每日一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| app_name | string | App名称 |
| date | date | 日期 |
| total_duration_min | int | 当天累计使用时长(分钟) |
| open_count | int | 打开次数 |
| first_active_time | timestamp | 首次活跃时间 |
| last_active_time | timestamp | 最后活跃时间 |

---

#### 浏览事件

**原始表**：`browse_events`（每次浏览一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| content_type | string | 内容类型(视频/图文/商品) |
| content_tags | json | 内容标签数组 |
| duration_sec | int | 浏览时长(秒) |
| browse_time | timestamp | 浏览时间 |

**聚合表**：`daily_browse_stats`

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| date | date | 日期 |
| total_browse_time_min | int | 当天累计浏览时长 |
| browse_count | int | 浏览次数 |
| top_content_types | json | 内容类型分布 |
| top_content_tags | json | 内容标签分布 |

---

#### 搜索事件

**原始表**：`search_events`（每次搜索一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| keyword | string | 搜索关键词 |
| search_time | timestamp | 搜索时间 |

**聚合表**：`daily_search_stats`

| 字段 | 类型 | 说明 |
|------|------|------|
| user_id | string | 用户ID |
| date | date | 日期 |
| search_count | int | 搜索次数 |
| top_keywords | json | 高频搜索词 |

---

### 5.2 广告投放数据

#### 广告任务

**聚合表**：`task_daily_stats`（每日一条）

| 字段 | 类型 | 说明 |
|------|------|------|
| task_id | string | 任务ID |
| date | date | 日期 |
| impression | int | 曝光量 |
| click | int | 点击量 |
| conversion | int | 转化量 |
| cost | decimal | 消耗金额 |
| cpc | decimal | 平均点击成本 |
| cpm | decimal | 千次曝光成本 |
| cpa | decimal | 单转化成本 |
| ctr | decimal | 点击率 |
| cvr | decimal | 转化率 |

---

## 六、统计类属性设计

> 统计类属性是支撑大模型推理的关键。

### 6.1 统计属性设计原则

| 维度 | 说明 | 示例 |
|------|------|------|
| 时间维度 | 不同时间范围的统计 | 今日、近7天、近30天 |
| 对比维度 | 与历史或整体对比 | 环比变化、同比变化、排名占比 |
| 分布维度 | 多维度分布情况 | 时段分布、内容类型分布、地域分布 |
| 派生标签 | 基于统计的标签化 | 高活跃/低活跃、上升趋势/下降趋势 |

### 6.2 事件对象统计属性

#### APP使用事件

| 统计属性 | 时间范围 | 计算方式 | 推理用途 |
|----------|----------|----------|----------|
| 累计使用时长 | 天/周/月 | sum(duration) | 判断用户对App依赖程度 |
| 使用天数 | 近7天/近30天 | count(distinct date) | 活跃度判断 |
| 使用频次 | 今日/近7天 | sum(open_count) | 使用频繁度 |
| 平均单次时长 | 近30天 | avg(duration) | 使用深度 |
| 最近使用距今 | 实时 | now - last_active_time | 流失风险 |
| 使用时段分布 | 实时 | hour分组统计 | 使用习惯(早/午/晚/凌晨) |
| 常用App排名 | 近7天/近30天 | 按时长排序 | 兴趣偏好 |
| App使用稳定性 | 近30天 | 方差/波动 | 用户类型(稳定/波动) |

**派生标签**：

| 标签 | 规则 | 说明 |
|------|------|------|
| 重度用户 | 近7天使用天数≥5天且日均≥60min | 高价值用户 |
| 中度用户 | 近7天使用天数3-4天 | 有潜力 |
| 轻度用户 | 近7天使用天数1-2天 | 需激活 |
| 沉默用户 | 近30天未使用 | 流失风险 |
| 夜间用户 | 23:00-06:00使用占比>50% | 特殊作息 |

#### 搜索事件

| 统计属性 | 时间范围 | 推理用途 |
|----------|----------|----------|
| 搜索频次 | 今日/近7天 | 意图强度 |
| 高频关键词 | 近7天/近30天 | 兴趣方向 |
| 搜索类别分布 | 近30天 | 兴趣偏好结构 |
| 搜索时段 | 实时 | 即时需求 |

**派生标签**：

| 标签 | 规则 |
|------|------|
| 品类搜索者 | 搜索词含品类词(手机、耳机) |
| 价格敏感型 | 多次搜索"价格、多少钱、优惠" |
| 品牌忠诚型 | 重复搜索同一品牌 |

### 6.3 广告投放统计属性

#### 广告任务

| 统计属性 | 时间范围 | 推理用途 |
|----------|----------|----------|
| 曝光量 | 今日/累计 | 投放规模 |
| 点击量 | 今日/累计 | 流量质量 |
| 转化量 | 今日/累计 | 转化效果 |
| 消耗金额 | 今日/累计 | 成本控制 |
| CTR | 实时 | 创意吸引力 |
| CVR | 实时 | 落地页/人群质量 |
| CPA | 实时 | 成本效率 |
| 预算消耗进度 | 实时 | 投放健康度 |
| 转化趋势 | 近7天/近30天 | 效果走势 |

**派生标签**：

| 标签 | 规则 |
|------|------|
| 高ROI | CPA < 期望CPA * 0.8 |
| 待优化 | CTR < 行业平均 * 0.7 |
| 预算耗尽 | 消耗进度 > 95% |
| 新任务 | 创建时间 < 7天 |

---

## 七、数据覆盖说明

| 数据类型 | 覆盖率 | 处理方式 |
|----------|--------|----------|
| APP行为 | 较高 | 正常参与特征计算 |
| 用户画像 | 高 | 核心定向维度 |
| 搜索/浏览 | ~30% | 标记"未知"，作为补充信号 |
| 广告行为 | 高 | 核心业务数据，用于效果分析 |

---

## 八、设计说明

### 1. 术语对应（Palantir Foundry）

| 本文档术语 | Palantir Foundry 术语 |
|------------|---------------------|
| 对象类型 | Object Type |
| 链接类型 | Link Type |
| 属性 | Property |
| 操作类型 | Action Type |
| 接口 | Interface |

### 2. 对象类型分类

- **核心对象**：用户、设备、广告主、应用、汽车
- **上下文对象**：用户场景
- **事件对象**：带时间戳的行为记录（APP安装/使用/浏览/搜索/广告曝光/点击/转化）
- **内容对象**：浏览内容、搜索内容
- **目标对象**：转化目标
- **投放单元对象**：广告计划、广告任务
- **推广对象**：推广标的
- **创意对象**：广告创意
- **策略对象**：出价策略
- **分类对象**：行业、汽车品牌
- **流量对象**：媒体、流量位、媒体版位
- **场景对象**：投放场景
- **数据对象**：投放数据
- **结果对象**：指标

### 3. 链接类型设计

- 使用 Palantir Foundry 链接类型概念
- 明确定义基数（一对一、一对多、多对多）
- 关系类型包括：使用、产生、处于、属于、创建、包含、投放、推广、使用、采用、目标、关联、触发、拥有等

### 4. 事件对象说明

- 事件是一种对象类型，用于记录带有时间戳和属性的行为数据
- 事件与普通对象类型的区别：强调"发生的动作"和"时间维度"
- 事件对象包括：APP安装/卸载/打开/使用、浏览、搜索、广告请求/曝光/点击/转化、广告竞价

### 5. 数据处理

- 对覆盖率低的数据（如搜索/浏览行为）标记为"未知"，避免算法误判
- 对对象属性进行标准化处理，提高数据质量

### 6. 统计类属性

- 设计了时间维度、对比维度、分布维度、派生标签四大类统计属性
- 支撑大模型推理和决策
- 通过聚合表提供高效的统计查询能力